[{"/code/src/index.js":"1","/code/src/reportWebVitals.js":"2","/code/src/App.js":"3"},{"size":500,"mtime":1628406257719,"results":"4","hashOfConfig":"5"},{"size":362,"mtime":1628406257721,"results":"6","hashOfConfig":"5"},{"size":2766,"mtime":1628432997418,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"sp9ccz",{"filePath":"10","messages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"12","messages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"/code/src/index.js",[],"/code/src/reportWebVitals.js",[],"/code/src/App.js",["15"],"import React,{useState, useEffect} from 'react'\nimport './App.css';\n\nfunction App() {\n    const [image,setImage] = useState(\"\")\n    const [url,setUrl] = useState(undefined)\n    const [response ,setResponse] = useState(null)\n    const [loading ,setLoading] = useState(false)\n    useEffect(()=>{\n        if(url)\n        {\n            uploadFields()\n        }\n    },[url])\n\n    const uploadPic = ()=>{\n        const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"classifier_image_upload\")\n        data.append(\"cloud_name\",\"duxnhitdq\")\n\n        // for pic upload\n        fetch(\"https://api.cloudinary.com/v1_1/duxnhitdq/image/upload\",{\n            method:\"post\",\n            body:data\n            })\n            .then(res=>res.json())\n            .then(data=>{\n                 console.log(data)\n                setUrl(data.url)\n            })\n            .catch(err=>{\n                setLoading(false)\n                console.log(err)\n            })\n    }\n    const handleUploadpic = (e)=>{\n        setResponse(null)\n        setImage(e.target.files[0])\n    }\n    const uploadFields=()=>{\n\n        fetch(\"http://0.0.0.0:8181/my_api/classify\",{\n            method:\"post\",\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                imageUrl:url\n            })\n        }).then(res=>res.json()).then(data=>{\n            console.log(data)\n            setResponse(data?.output_result)\n            setLoading(false)\n        }).catch(err=>{\n            setLoading(false)\n            console.log(err)\n        })\n    }\n\n    const PostData = ()=>{\n        setLoading(true)\n        uploadPic()\n    }\n  return (\n    <div className=\"App\">\n    <div className=\"file-field input-field\">\n                    <div className=\"\">\n                        <span>Upload Pic</span>\n                        <input type=\"file\" onChange={(e)=>handleUploadpic(e)}/>\n                    </div>\n                </div>\n                <button className=\"btn waves-effect waves-light .#6a1b9a purple darken-3\" onClick={()=>PostData()}>\n                Upload\n                </button>\n                {\n                    response ? (\n                    <div>\n                    <div>\n                    classname = {response.classname}\n                    </div>\n                     <div>\n                    probability =  {response.probability}\n                    </div>\n                    </div>\n                    ) : loading ? (\n                                    <div>\n                                    loading....\n                                    </div>\n                                    ) : null\n                }\n    </div>\n  );\n}\n\nexport default App;\n",{"ruleId":"16","severity":1,"message":"17","line":14,"column":7,"nodeType":"18","endLine":14,"endColumn":12,"suggestions":"19"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'uploadFields'. Either include it or remove the dependency array.","ArrayExpression",["20"],{"desc":"21","fix":"22"},"Update the dependencies array to be: [uploadFields, url]",{"range":"23","text":"24"},[363,368],"[uploadFields, url]"]